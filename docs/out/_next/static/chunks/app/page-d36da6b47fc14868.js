(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5981:(e,r,s)=>{"use strict";s.d(r,{default:()=>M});var t=s(5155),a=s(2115),l=s(2177),n=s(221),o=s(5594),i=s(3503),d=s(172),c=s(1949),m=s(1721),u=s(3484),f=s(3672),p=s(4253),x=s(9434),h=s(968),b=s(2085);let v=(0,b.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(h.b,{ref:r,className:(0,x.cn)(v(),s),...a})});g.displayName=h.b.displayName;let N=l.Op,j=a.createContext({}),w=e=>{let{...r}=e;return(0,t.jsx)(j.Provider,{value:{name:r.name},children:(0,t.jsx)(l.xI,{...r})})},y=()=>{let e=a.useContext(j),r=a.useContext(k),{getFieldState:s,formState:t}=(0,l.xW)(),n=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=r;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},k=a.createContext({}),R=a.forwardRef((e,r)=>{let{className:s,...l}=e,n=a.useId();return(0,t.jsx)(k.Provider,{value:{id:n},children:(0,t.jsx)("div",{ref:r,className:(0,x.cn)("space-y-2",s),...l})})});R.displayName="FormItem",a.forwardRef((e,r)=>{let{className:s,...a}=e,{error:l,formItemId:n}=y();return(0,t.jsx)(g,{ref:r,className:(0,x.cn)(l&&"text-destructive",s),htmlFor:n,...a})}).displayName="FormLabel",a.forwardRef((e,r)=>{let{...s}=e,{error:a,formItemId:l,formDescriptionId:n,formMessageId:o}=y();return(0,t.jsx)(p.DX,{ref:r,id:l,"aria-describedby":a?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!a,...s})}).displayName="FormControl",a.forwardRef((e,r)=>{let{className:s,...a}=e,{formDescriptionId:l}=y();return(0,t.jsx)("p",{ref:r,id:l,className:(0,x.cn)("text-sm text-muted-foreground",s),...a})}).displayName="FormDescription",a.forwardRef((e,r)=>{var s;let{className:a,children:l,...n}=e,{error:o,formMessageId:i}=y(),d=o?String(null!=(s=null==o?void 0:o.message)?s:""):l;return d?(0,t.jsx)("p",{ref:r,id:i,className:(0,x.cn)("text-sm font-medium text-destructive",a),...n,children:d}):null}).displayName="FormMessage";let A=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("textarea",{className:(0,x.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a})});A.displayName="Textarea";let F=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=a.forwardRef((e,r)=>{let{className:s,variant:a,size:l,asChild:n=!1,...o}=e,i=n?p.DX:"button";return(0,t.jsx)(i,{className:(0,x.cn)(F({variant:a,size:l,className:s})),ref:r,...o})});S.displayName="Button";let E=(0,b.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_=a.forwardRef((e,r)=>{let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{ref:r,role:"alert",className:(0,x.cn)(E({variant:a}),s),...l})});_.displayName="Alert";let D=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("h5",{ref:r,className:(0,x.cn)("mb-1 font-medium leading-none tracking-tight",s),...a})});D.displayName="AlertTitle";let I=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,x.cn)("text-sm [&_p]:leading-relaxed",s),...a})});I.displayName="AlertDescription";var C=s(4439);let P=a.forwardRef((e,r)=>{let{className:s,children:a,...l}=e;return(0,t.jsxs)(C.bL,{ref:r,className:(0,x.cn)("relative overflow-hidden",s),...l,children:[(0,t.jsx)(C.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,t.jsx)(T,{}),(0,t.jsx)(C.OK,{})]})});P.displayName=C.bL.displayName;let T=a.forwardRef((e,r)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,t.jsx)(C.VM,{ref:r,orientation:a,className:(0,x.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,t.jsx)(C.lr,{className:"relative flex-1 rounded-full bg-border"})})});T.displayName=C.VM.displayName;var V=s(5977);let z=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(V.bL,{ref:r,className:(0,x.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});z.displayName=V.bL.displayName,a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(V._V,{ref:r,className:(0,x.cn)("aspect-square h-full w-full",s),...a})}).displayName=V._V.displayName;let L=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(V.H4,{ref:r,className:(0,x.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});L.displayName=V.H4.displayName;let O=o.Ik({prompt:o.Yj().min(1,{message:"Please provide a prompt."})});function M(){let[e,r]=(0,a.useState)([]),[s,o]=(0,a.useState)(!1),p=(0,a.useRef)(null),h=(0,l.mN)({resolver:(0,n.u)(O),defaultValues:{prompt:""}});async function b(e){o(!0),h.reset();let s={id:"user-".concat(Date.now()),status:"idle",message:"",prompt:e.prompt},t={id:"bot-".concat(Date.now()),status:"pending",message:"Thinking..."};r(e=>[...e,s,t]);try{let s={prompt:e.prompt},a=await fetch("https://ak99055.app.n8n.cloud/webhook/firebase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){let e=await a.text();throw console.error("Webhook error:",e),Error("The service failed. Status: ".concat(a.status,"."))}let l=(await a.json()).output;if("string"!=typeof l)throw Error("Invalid response format from webhook.");let n={status:"success",message:"Prompt successfully sent.",webhookResponse:l};r(e=>e.map(e=>e.id===t.id?{...t,...n}:e))}catch(a){let e="An unknown error occurred.";a instanceof Error&&(e=a.message),console.error("onSubmit error:",a);let s={status:"error",message:e};r(e=>e.map(e=>e.id===t.id?{...t,...s}:e))}o(!1)}(0,a.useEffect)(()=>{p.current&&p.current.scrollTo({top:p.current.scrollHeight,behavior:"smooth"})},[e]);let v=e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),s||h.handleSubmit(b)())};return(0,t.jsxs)("div",{className:"flex flex-col h-full w-full max-w-4xl mx-auto",children:[(0,t.jsxs)("header",{className:"flex items-center p-4 border-b",children:[(0,t.jsx)(i.A,{className:"h-8 w-8 text-primary"}),(0,t.jsx)("h1",{className:"text-xl font-bold ml-3",children:"Prompt Sender"})]}),(0,t.jsx)(P,{className:"flex-1 p-4",ref:p,children:(0,t.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,t.jsxs)("div",{className:(0,x.cn)("flex items-start gap-4","idle"===e.status?"justify-end":"justify-start"),children:["idle"!==e.status&&(0,t.jsx)(z,{className:"h-8 w-8",children:(0,t.jsx)(L,{children:(0,t.jsx)(i.A,{className:"text-primary"})})}),(0,t.jsxs)("div",{className:(0,x.cn)("max-w-[75%] rounded-lg p-3 text-sm","idle"===e.status?"bg-primary text-primary-foreground":"bg-muted"),children:["idle"===e.status&&e.prompt,"pending"===e.status&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:e.message})]}),"success"===e.status&&(0,t.jsx)("pre",{className:"whitespace-pre-wrap",children:e.webhookResponse}),"error"===e.status&&(0,t.jsxs)(_,{variant:"destructive",className:"p-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)(D,{children:"Error"}),(0,t.jsx)(I,{children:e.message})]})]}),"idle"===e.status&&(0,t.jsx)(z,{className:"h-8 w-8",children:(0,t.jsx)(L,{children:(0,t.jsx)(m.A,{})})})]},e.id))})}),(0,t.jsx)("div",{className:"p-4 border-t",children:(0,t.jsx)(N,{...h,children:(0,t.jsxs)("form",{onSubmit:h.handleSubmit(b),className:"relative",children:[(0,t.jsx)(w,{control:h.control,name:"prompt",render:e=>{let{field:r}=e;return(0,t.jsxs)(R,{children:[(0,t.jsx)(A,{placeholder:'e.g., "Hello world!"',className:"pr-20 min-h-[50px] resize-none",onKeyDown:v,disabled:s,...r}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground absolute bottom-3 left-3 flex items-center",children:[(0,t.jsx)(u.A,{className:"w-3 h-3 mr-1"}),(0,t.jsx)("span",{className:"font-semibold",children:"Enter"})," to send, ",(0,t.jsx)("span",{className:"font-semibold",children:"Shift + Enter"})," for new line"]})]})}}),(0,t.jsxs)(S,{type:"submit",size:"icon",className:"absolute right-3 top-1/2 -translate-y-1/2 h-9 w-12",disabled:s,children:[s?(0,t.jsx)(d.A,{className:"h-5 w-5 animate-spin"}):(0,t.jsx)(f.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Send"})]})]})})})]})}},8518:(e,r,s)=>{Promise.resolve().then(s.bind(s,5981))},9434:(e,r,s)=>{"use strict";s.d(r,{cn:()=>l});var t=s(2596),a=s(9688);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[846,525,441,684,358],()=>r(8518)),_N_E=e.O()}]);